# Pytestãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ•ãƒ­ãƒ¼å›³è§£

## 1. å…¨ä½“ã®æµã‚Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ pytest test_sample.py -v ã‚’å®Ÿè¡Œ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PytestãŒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚­ãƒ£ãƒ³                                â”‚
â”‚ - test_*.py ã¾ãŸã¯ *_test.py ã‚’æ¢ã™                      â”‚
â”‚ - Test* ã§å§‹ã¾ã‚‹ã‚¯ãƒ©ã‚¹ã‚’æ¢ã™                              â”‚
â”‚ - test_* ã§å§‹ã¾ã‚‹é–¢æ•°ã‚’æ¢ã™                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¦‹ã¤ã‘ãŸãƒ†ã‚¹ãƒˆ:                                           â”‚
â”‚ 1. TestSampleClass::test_sample1                        â”‚
â”‚ 2. TestSampleClass::test_sample2                        â”‚
â”‚ 3. TestWithFixtures::test_with_fixture1                 â”‚
â”‚ 4. TestWithFixtures::test_with_multiple_fixtures        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
              å„ãƒ†ã‚¹ãƒˆã‚’é †ç•ªã«å®Ÿè¡Œ
```

## 2. test_sample1 ã®è©³ç´°ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ†ã‚¹ãƒˆé–‹å§‹: test_sample1(self, driver)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: å¼•æ•°ã‚’ãƒã‚§ãƒƒã‚¯                                    â”‚
â”‚ - self: TestSampleClassã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹                     â”‚
â”‚ - driver: ã“ã‚Œã¯ä½•ï¼Ÿ â†’ conftest.pyã‚’æ¢ã™                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: conftest.pyã®driverã‚’å®Ÿè¡Œ                        â”‚
â”‚                                                          â”‚
â”‚ @pytest.fixture                                          â”‚
â”‚ def driver():                                            â”‚
â”‚     print("[FIXTURE] driverèµ·å‹•")                        â”‚
â”‚     driver = webdriver.Chrome()  â† ãƒ–ãƒ©ã‚¦ã‚¶èµ·å‹•           â”‚
â”‚     yield driver  â† ã“ã®å€¤ã‚’test_sample1ã«æ¸¡ã™            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: ãƒ†ã‚¹ãƒˆæœ¬ä½“ã‚’å®Ÿè¡Œ                                  â”‚
â”‚                                                          â”‚
â”‚ def test_sample1(self, driver):                          â”‚
â”‚     self.home = Home(self, driver)     â† 1è¡Œç›®           â”‚
â”‚     self.settings = Settings(self, driver)  â† 2è¡Œç›®      â”‚
â”‚     self.home.open()                   â† 3è¡Œç›®           â”‚
â”‚     assert self.home.wait_for_page()   â† 4è¡Œç›®           â”‚
â”‚     self.settings.open()               â† 5è¡Œç›®           â”‚
â”‚     self.settings.close()              â† 6è¡Œç›®           â”‚
â”‚     assert self.settings.top.wait_for_page()  â† 7è¡Œç›®    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: ãƒ†ã‚¹ãƒˆçµ‚äº†å¾Œã®å‡¦ç†                                â”‚
â”‚                                                          â”‚
â”‚ @pytest.fixture                                          â”‚
â”‚ def driver():                                            â”‚
â”‚     yield driver  â† ã“ã“ã‹ã‚‰å†é–‹                          â”‚
â”‚     print("[FIXTURE] driverçµ‚äº†")                        â”‚
â”‚     driver.quit()  â† ãƒ–ãƒ©ã‚¦ã‚¶ã‚’é–‰ã˜ã‚‹                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çµæœ: PASSED ã¾ãŸã¯ FAILED                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. test_with_fixture1 ã®è©³ç´°ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ†ã‚¹ãƒˆé–‹å§‹: test_with_fixture1(self, fixture_function1)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: å¼•æ•°ã‚’ãƒã‚§ãƒƒã‚¯                                    â”‚
â”‚ - self: TestWithFixturesã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹                    â”‚
â”‚ - fixture_function1: ã“ã‚Œã¯ä½•ï¼Ÿ â†’ ã‚¯ãƒ©ã‚¹å†…ã‚’æ¢ã™          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: TestSampleClasså†…ã®fixture_function1ã‚’å®Ÿè¡Œ      â”‚
â”‚                                                          â”‚
â”‚ @pytest.fixture(scope="function")                        â”‚
â”‚ def fixture_function1(self):                             â”‚
â”‚     print("function1 precondition")  â† ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—       â”‚
â”‚     yield  â† ã“ã“ã§ä¸€æ™‚åœæ­¢                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: ãƒ†ã‚¹ãƒˆæœ¬ä½“ã‚’å®Ÿè¡Œ                                  â”‚
â”‚                                                          â”‚
â”‚ def test_with_fixture1(self, fixture_function1):         â”‚
â”‚     print("test_with_fixture1 å®Ÿè¡Œä¸­")                   â”‚
â”‚     assert True  â† å¸¸ã«æˆåŠŸ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: fixture_function1ã®ç¶šãã‚’å®Ÿè¡Œ                    â”‚
â”‚                                                          â”‚
â”‚ @pytest.fixture(scope="function")                        â”‚
â”‚ def fixture_function1(self):                             â”‚
â”‚     yield  â† ã“ã“ã‹ã‚‰å†é–‹                                 â”‚
â”‚     print("function1 teardown")  â† ãƒ†ã‚£ã‚¢ãƒ€ã‚¦ãƒ³           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çµæœ: PASSED                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 4. test_with_multiple_fixtures ã®è©³ç´°ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ†ã‚¹ãƒˆé–‹å§‹: test_with_multiple_fixtures                     â”‚
â”‚           (self, fixture_function1, fixture_function2)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: fixture_function1ã‚’å®Ÿè¡Œ                            â”‚
â”‚ print("function1 precondition")  â† å®Ÿè¡Œ                    â”‚
â”‚ yield  â† ä¸€æ™‚åœæ­¢                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: fixture_function2ã‚’å®Ÿè¡Œ                            â”‚
â”‚ print("function2 precondition")  â† å®Ÿè¡Œ                    â”‚
â”‚ yield  â† ä¸€æ™‚åœæ­¢                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: ãƒ†ã‚¹ãƒˆæœ¬ä½“ã‚’å®Ÿè¡Œ                                    â”‚
â”‚ print("test_with_multiple_fixtures å®Ÿè¡Œä¸­")                â”‚
â”‚ assert True                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: fixture_function2ã®ãƒ†ã‚£ã‚¢ãƒ€ã‚¦ãƒ³                     â”‚
â”‚ print("function2 teardown")  â† å¾Œã‹ã‚‰å®Ÿè¡Œã—ãŸã‚‚ã®ã‹ã‚‰çµ‚äº†   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: fixture_function1ã®ãƒ†ã‚£ã‚¢ãƒ€ã‚¦ãƒ³                     â”‚
â”‚ print("function1 teardown")  â† æœ€åˆã«å®Ÿè¡Œã—ãŸã‚‚ã®ã‚’æœ€å¾Œã«   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çµæœ: PASSED                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5. ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å½¢å¼ã®æµã‚Œ

### test_sample1ã®å®Ÿè¡Œã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

```
æ™‚é–“è»¸ â†“

00:00  pytest test_sample.py::TestSampleClass::test_sample1 -v -s
       |
00:01  [conftest.py] driver fixtureé–‹å§‹
       |  print("[FIXTURE] driverèµ·å‹•")
       |  driver = webdriver.Chrome()  â† ãƒ–ãƒ©ã‚¦ã‚¶ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒé–‹ã
       |
00:02  [test_sample1] ãƒ†ã‚¹ãƒˆé–‹å§‹
       |  self.home = Home(self, driver)
       |
00:03  self.settings = Settings(self, driver)
       |
00:04  self.home.open()  â† ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒšãƒ¼ã‚¸ã‚’é–‹ã
       |
00:05  assert self.home.wait_for_page()  â† ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å¾…æ©Ÿ
       |
00:06  self.settings.open()  â† Settingsãƒšãƒ¼ã‚¸ã‚’é–‹ã
       |
00:07  self.settings.close()  â† Settingsãƒšãƒ¼ã‚¸ã‚’é–‰ã˜ã‚‹
       |
00:08  assert self.settings.top.wait_for_page()  â† ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ç¢ºèª
       |
00:09  [test_sample1] ãƒ†ã‚¹ãƒˆçµ‚äº†
       |
00:10  [conftest.py] driver fixtureã®çµ‚äº†å‡¦ç†
       |  print("[FIXTURE] driverçµ‚äº†")
       |  driver.quit()  â† ãƒ–ãƒ©ã‚¦ã‚¶ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒé–‰ã˜ã‚‹
       |
00:11  çµæœ: PASSED âœ“
```

### test_with_multiple_fixturesã®å®Ÿè¡Œã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³

```
æ™‚é–“è»¸ â†“

00:00  pytestå®Ÿè¡Œ
       |
00:01  [fixture_function1] ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
       |  print("function1 precondition")
       |
00:02  [fixture_function2] ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
       |  print("function2 precondition")
       |
00:03  [test_with_multiple_fixtures] ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
       |  print("test_with_multiple_fixtures å®Ÿè¡Œä¸­")
       |  assert True
       |
00:04  [fixture_function2] ãƒ†ã‚£ã‚¢ãƒ€ã‚¦ãƒ³ï¼ˆå¾Œå…¥ã‚Œå…ˆå‡ºã—ï¼‰
       |  print("function2 teardown")
       |
00:05  [fixture_function1] ãƒ†ã‚£ã‚¢ãƒ€ã‚¦ãƒ³
       |  print("function1 teardown")
       |
00:06  çµæœ: PASSED âœ“
```

## 6. è¤‡æ•°ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œé †åº

```
pytest test_sample.py -v ã‚’å®Ÿè¡Œ

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test 1: test_sample1                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. driver fixtureèµ·å‹•                    â”‚
â”‚ 2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ                            â”‚
â”‚ 3. driver fixtureçµ‚äº†                    â”‚
â”‚ çµæœ: PASSED âœ“                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test 2: test_sample2                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. fixtureãªã—                           â”‚
â”‚ 2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ                            â”‚
â”‚ çµæœ: PASSED âœ“                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test 3: test_with_fixture1               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. fixture_function1 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—        â”‚
â”‚ 2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ                            â”‚
â”‚ 3. fixture_function1 ãƒ†ã‚£ã‚¢ãƒ€ã‚¦ãƒ³        â”‚
â”‚ çµæœ: PASSED âœ“                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Test 4: test_with_multiple_fixtures      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. fixture_function1 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—        â”‚
â”‚ 2. fixture_function2 ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—        â”‚
â”‚ 3. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ                            â”‚
â”‚ 4. fixture_function2 ãƒ†ã‚£ã‚¢ãƒ€ã‚¦ãƒ³        â”‚
â”‚ 5. fixture_function1 ãƒ†ã‚£ã‚¢ãƒ€ã‚¦ãƒ³        â”‚
â”‚ çµæœ: PASSED âœ“                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å…¨ãƒ†ã‚¹ãƒˆå®Œäº†                             â”‚
â”‚ 4 passed in 15.30s                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7. Fixtureã®ã‚¹ã‚³ãƒ¼ãƒ—ã«ã‚ˆã‚‹é•ã„

### scope="function" (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)

```
test_1ãŒå®Ÿè¡Œã•ã‚Œã‚‹
  â†“
fixtureèµ·å‹• â†’ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ â†’ fixtureçµ‚äº†
  â†“
test_2ãŒå®Ÿè¡Œã•ã‚Œã‚‹
  â†“
fixtureèµ·å‹• â†’ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ â†’ fixtureçµ‚äº†
  â†“
test_3ãŒå®Ÿè¡Œã•ã‚Œã‚‹
  â†“
fixtureèµ·å‹• â†’ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ â†’ fixtureçµ‚äº†

= å„ãƒ†ã‚¹ãƒˆã”ã¨ã«æ–°ã—ã„fixture
```

### scope="class"

```
TestSampleClassãŒå®Ÿè¡Œã•ã‚Œã‚‹
  â†“
fixtureèµ·å‹• (1å›ã ã‘)
  â†“
test_1å®Ÿè¡Œ
  â†“
test_2å®Ÿè¡Œ
  â†“
test_3å®Ÿè¡Œ
  â†“
fixtureçµ‚äº† (1å›ã ã‘)

= ã‚¯ãƒ©ã‚¹å…¨ä½“ã§1ã¤ã®fixture
```

### scope="session"

```
pytestå®Ÿè¡Œé–‹å§‹
  â†“
fixtureèµ·å‹• (æœ€åˆã«1å›ã ã‘)
  â†“
å…¨ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
  â†“
fixtureçµ‚äº† (æœ€å¾Œã«1å›ã ã‘)

= å…¨ãƒ†ã‚¹ãƒˆã§1ã¤ã®fixture
```

## 8. assertãŒå¤±æ•—ã—ãŸæ™‚ã®æµã‚Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ test_sample1ãŒå®Ÿè¡Œã•ã‚Œã‚‹                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ self.home.open()  å®Ÿè¡Œ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ assert self.home.wait_for_page()        â”‚
â”‚ â†“                                       â”‚
â”‚ wait_for_page() ãŒ False ã‚’è¿”ã—ãŸï¼      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AssertionErrorç™ºç”Ÿï¼                     â”‚
â”‚ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: "Homeãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ã«      â”‚
â”‚            å¤±æ•—ã—ã¾ã—ãŸ"                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã“ã®å¾Œã®ã‚³ãƒ¼ãƒ‰ã¯å®Ÿè¡Œã•ã‚Œãªã„             â”‚
â”‚ âœ— self.settings.open()  ã‚¹ã‚­ãƒƒãƒ—         â”‚
â”‚ âœ— self.settings.close()  ã‚¹ã‚­ãƒƒãƒ—        â”‚
â”‚ âœ— assert self.settings.top...  ã‚¹ã‚­ãƒƒãƒ—  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã§ã‚‚fixtureã®çµ‚äº†å‡¦ç†ã¯å®Ÿè¡Œã•ã‚Œã‚‹        â”‚
â”‚ driver.quit()  â† ãƒ–ãƒ©ã‚¦ã‚¶ã¯é–‰ã˜ã‚‰ã‚Œã‚‹    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çµæœ: FAILED âœ—                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ã“ã‚Œã§å®Ÿè¡Œã®æµã‚ŒãŒå®Œå…¨ã«ç†è§£ã§ãã¾ã™ã­ï¼ğŸ¯
